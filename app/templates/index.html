<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FLAMES Selfie Generator | Encephalitis International</title>
  <meta property="og:type" content="website">
  <meta property="og:title" content="Make Your FLAMES Selfie">
  <meta property="og:description" content="Turn your photo into a classic 1970s firefighter portrait in FLAMES campaign colors.">
  <meta property="og:image" content="/static/campaign/flames-logo.png">
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body data-page="generate">
  <div class="backdrop one"></div>
  <div class="backdrop two"></div>
  <div class="backdrop three"></div>

  <main class="shell">
    <header class="hero">
      <div class="brand-row">
        <img class="ei-logo" src="/static/campaign/ei-logo.png" alt="Encephalitis International">
      </div>
      <img class="flames-logo" src="/static/campaign/flames-logo.png" alt="FLAMES">
      <p class="kicker">One photo. One click. One powerful share.</p>
      <h1>Make your FLAMES selfie</h1>
      <p class="hero-copy">Upload a photo or use your camera and we will transform it into a nostalgic 1970s firefighter portrait in FLAMES campaign colours, finished with the campaign frame.</p>
      <ul class="promise-list" aria-label="What you will get">
        <li>Square image ready for social posts</li>
        <li>Unique share link for friends and supporters</li>
        <li>Instant download for your channels</li>
      </ul>
    </header>

    <section class="story-strip" id="how-it-works" aria-label="How it works">
      <article>
        <h2>1. Add your photo</h2>
        <p>Use a clear selfie in good light for the strongest result.</p>
      </article>
      <article>
        <h2>2. We style it</h2>
        <p>AI applies the FLAMES visual treatment and classic firefighter look.</p>
      </article>
      <article>
        <h2>3. Share it</h2>
        <p>Download and post your image, or send your unique link.</p>
      </article>
    </section>

    <section class="studio" id="studio-panel">
      <div id="create-content">
        <h2 class="section-title">Create your image</h2>
        <p class="section-copy">Choose upload or camera. Your original image is processed to create your campaign result.</p>

        <div class="picker-row">
          <label class="pill control-pill">
            <input type="file" id="photo-upload" accept="image/jpeg,image/png,image/webp" hidden>
            Upload Photo
          </label>
          <button class="pill" id="start-camera" type="button">Use Camera</button>
        </div>

        <div id="camera-panel" class="camera-panel hidden">
          <video id="camera-video" autoplay playsinline></video>
          <canvas id="capture-canvas" class="hidden"></canvas>
          <div class="picker-row compact">
            <button class="pill" id="capture-btn" type="button">Capture</button>
            <button class="pill secondary" id="retake-btn" type="button">Retake</button>
          </div>
        </div>

        <div class="preview-wrap">
          <img id="photo-preview" alt="Selected photo preview">
        </div>

        <div class="action-row">
          <button class="cta" id="generate-btn" type="button" disabled>Generate My FLAMES Selfie</button>
        </div>
      </div>

      <div id="progress-panel" class="progress-panel hidden" aria-live="polite">
        <div class="spinner" aria-hidden="true"></div>
        <h3>Creating your FLAMES selfie</h3>
        <p>This usually takes around 30 seconds.</p>
      </div>

      <p id="status-text" class="status"></p>
      <p id="error-text" class="error"></p>
    </section>

    <section class="result hidden" id="result-panel">
      <h2 class="section-title">Your FLAMES selfie is ready</h2>
      <p class="section-copy">Download your image and share it to help spread the message.</p>
      <img id="result-image" alt="Generated FLAMES selfie">
      <div class="action-row">
        <a id="download-btn" class="cta" href="#" target="_blank" rel="noopener">Download It</a>
      </div>
      <div class="share-row">
        <input id="share-link" aria-label="Share link" readonly>
        <button id="copy-link" class="pill" type="button">Copy Share Link</button>
      </div>
    </section>

    <footer class="page-footer">
      <p>This tool was created for the FLAMES campaign by <a href="https://www.encephalitis.info" target="_blank" rel="noopener">Encephalitis International</a>.</p>
      <p class="micro">By uploading a photo you confirm you have permission to use it for this campaign image generator.</p>
    </footer>
  </main>

  <script src="/static/app.js"></script>
</body>
</html>
